---
title: Using Multiple Signing Algorithms with the ARC (Authenticated Received Chain) Protocol
abbrev: ARC-Multi
docname: draft-ietf-dmarc-arc-multi-00
date: 2018-01-22

# stand_alone: true

ipr: trust200902
area: art
wg: DMARC Working Group
kw: Internet-Draft
submission: IETF
cat: exp

coding: utf-8
pi:    # can use array (if all yes) or hash here
#  - toc
#  - sortrefs
#  - symrefs
  toc: yes
  sortrefs:   # defaults to yes
  symrefs: yes

author:
      -
        ins: K. Andersen
        name: Kurt Andersen
        org: LinkedIn
        street: 1000 West Maude Ave
        city: Sunnyvale
        region: California
        code: 94085
        country: US
        email: kurta@linkedin.com
      -
        ins: S. Blank
        name: Seth Blank
        org: ValiMail
        street: Montgomery
        city: San Francisco
        state: California
        country: US
        role: editor
        email: seth@valimail.com
      -
        ins: J. Levine
        name: John Levine
        org: Taughannock Networks
        street: PO Box 727
        city: Trumansburg
        state: New York
        country: US
        role: editor
        email: standards@taugh.com

normative:
  RFC1345:
  RFC5234:
  RFC5321:
  RFC5322:
  RFC3463:
  RFC7601:
  RFC7208:
  RFC6651:
  RFC5863:
  RFC6377:
  RFC5585:
  RFC6376:
  RFC4686:
  RFC5598:
  RFC5226:
  RFC2142:
  RFC2606:
  RFC3463:
  RFC2119:

informative:
  RFC6982:
  RFC7489:
  RFC7960:
  ARC-DRAFT-11:
    title: Authenticated Received Chain (ARC) Protocol (I-D-11)
    target: https://tools.ietf.org/html/draft-ietf-dmarc-arc-protocol-11
    author:
      -
        ins: K. Andersen
        name: Kurt Andersen
      -
        ins: B. Long
        name: Brandon Long
      -
        ins: S. Jones
        name: Steven Jones

entity:
      SELF: "[I-D.ARC-MULTI]"

# --- note_IESG_Note
#
# bla bla bla

--- abstract

The Authenticated Received Chain (ARC) protocol creates a mechanism whereby a
series of handlers of an email message can conduct authentication of the email
message as it passes among them on the way to its destination.

Initial development of ARC has been done with a single allowed signing
algorithm, but parallel work in the DCRUP working group
(https://datatracker.ietf.org/wg/dcrup/about/) is expanding the supported
algorithms. This specification defines how to extend ARC for multiple signing
algorithms.

--- middle
# Introduction {#intro}

The Authenticated Received Chain (ARC) protocol adds a traceable chain of 
signatures that cover the handling of an email message through a chain of
intermediary handlers.

Initial development of ARC has been done with a single allowed signing
algorithm, but parallel work in the DCRUP working group
(https://datatracker.ietf.org/wg/dcrup/about/) is expanding the supported
algorithms. This specification defines how to extend ARC for multiple signing
algorithms.

# Overview {#overview}

In order to phase in new signing algorithms, this specification identifies how
signers and validators process ARC sets found in email messages.

# Definitions and Terminology

This section defines terms used in the rest of the document. 

The capitalized key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
interpreted as described in {{RFC2119}}. 

Because many of the core concepts and definitions are found in {{RFC5598}},
readers should to be familiar with the contents of {{RFC5598}}, and in
particular, the potential roles of intermediaries in the delivery of email.

# Supporting Alternate Signing Algorithms {#alt-sign}

During a period where multiple algorithms are allowed, all of the statements in
the ARC spec which refer to "exactly one set of ARC headers per instance" need
to be understood as "at least one set per instance and no more than one set per
instance per algorithm".

# General Approach

## Signers

There is a separate independent signing chain for each signing algorithm.
Hence, when creating an ARC signature, a signer MUST include only other
signatures that use the same algorithm as the signature being created.

Wnen signing a message with no previous ARC signatures, signers MUST sign using
all supported algorithms.

A signer MUST continue the longest ARC chain(s) in a message with all
algorithms that it supports.  That is, if at least one of the longest chains
uses an algorithm that a signer supports, the signer continues the chain(s).
If none of the longest chains in a message use an algorithm supported by a
signer, the signer MUST NOT extend any chains, even if a shorter chain does use
a supported algorithm.

## Validators

A validator MUST use the longest ARC chain(s) on the message.
If a validator cannot interpret the signing algorithm on any of the longest chains,
validation fails, evven if a shorter chain does use a supported algorithm.

If there is more than one longest chain, the overall result reported can be that of of any of
the validations.  The result used when extending an ARC chain MUST be the result
from validating that chain.

# Phases of Algorithm Evolution

## Introductory Period

Intermediaries MUST be able to validate ARC chains built with either algorithm
but MAY create ARC sets with either (or both) algorithm.

The introductory period should be at least six (6) months.

## Co-Existence Period

Intermediaries MUST be able to validate ARC chains build with either algorithm
and MUST create ARC sets with both algorithms.  Chains ending with either
algorithm may be used for the result.

## Deprecation Period

ARC sets built with algorithms that are being deprecated MAY be considered
valid within an ARC chain, however, intermediaries MUST NOT create additional
sets with the deprecated algorithm.

The deprecation period should be at least two (2) years.

## Obsolescence Period

ARC sets built with algorithms that are obsolete MUST NOT be considered
valid within an ARC chain. Intermediaries MUST NOT create any
sets with any obsoleted algorithm.

# Privacy Considerations

No unique privacy considerations are introduced by this specification beyond those
of the base {{ARC-DRAFT-11}} protocol.

# IANA Considerations

No new IANA considerations are introduced by this specification.

# Security Considerations {#sec-con}

No new security considerations are introduced by this specification beyond those
of the base {{ARC-DRAFT-11}} protocol.

--- back

# Acknowledgements

This draft is the work of DMARC Working Group.

Grateful appreciation is extended to the people who provided feedback through the discuss
mailing list.

# Comments and Feedback

Please address all comments, discussions, and questions to <dmarc@ietf.org>. 


--- fluff

<!--  LocalWords:  received header email DMARC authentication authenticated
-->
<!--  LocalWords:  signature DKIM OAR authentication-results
-->

